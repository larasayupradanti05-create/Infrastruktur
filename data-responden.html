<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard Interaktif Jalan UPNVJT</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body{font-family:'Poppins',sans-serif;background:#f8f9fa;}
.sidebar{height:100vh;width:250px;background:#0d6efd;color:white;position:fixed;padding:1rem;display:flex;flex-direction:column;}
.sidebar h4{text-align:center;margin-bottom:2rem;font-weight:700;}
.sidebar a{color:#dbe4ff;text-decoration:none;padding:10px 15px;margin-bottom:5px;border-radius:8px;display:block;transition:0.2s;}
.sidebar a:hover,.sidebar a.active{background:#ffffff22;color:#fff;}
.main-content{margin-left:260px;padding:2rem;}
.card{border-radius:1rem;box-shadow:0 4px 15px rgba(0,0,0,0.05);margin-bottom:1.5rem;padding:1rem;}
.chart-container{width:100%;max-width:900px;margin:2rem auto;}
</style>
</head>
<body>
<div class="sidebar">
<h4><i class="bi bi-geo-alt-fill"></i> Jalan UPNVJT</h4>
<a href="index.html">Dashboard</a>
<a href="#" class="active">Data Responden</a>
<a href="analisis 1.html">Analisis</a>
<a href="ringkasan.html">Ringkasan</a>
<a href="interaktif.html">Interaktif</a>
<a href="#"><i class="bi bi-info-circle me-2"></i> Tentang</a>
</div>

<div class="main-content">
<h2 class="fw-bold mb-4 text-primary">Data Responden</h2>
<div class="table-responsive">
<table class="table table-striped" id="dataTable">
<thead class="table-primary"><tr id="tableHead"></tr></thead>
<tbody id="tableBody"></tbody>
</table>
</div>
</div>

<script>
// Ambil data dari localStorage agar tetap terbaca antar halaman
const data = JSON.parse(localStorage.getItem("surveyData") || "[]");
const tableHead = document.getElementById("tableHead");
const tableBody = document.getElementById("tableBody");

if(data.length > 0){
    // Buat header tabel
    Object.keys(data[0]).forEach(k=>{
        tableHead.innerHTML += `<th>${k}</th>`;
    });
    // Buat body tabel
    data.forEach(row=>{
        const tr = document.createElement("tr");
        Object.values(row).forEach(v=>{
            const td = document.createElement("td");
            td.textContent = v;
            tr.appendChild(td);
        });
        tableBody.appendChild(tr);
    });
}else{
    tableBody.innerHTML = `<tr><td colspan="100%">Data belum dimuat. Upload CSV di Dashboard.</td></tr>`;
}
</script>
</body>
</html>
